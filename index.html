<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>أداة تشخيص Firebase</title>
</head>
<body>
    <h1>جارٍ فحص الاتصال بـ Firebase...</h1>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
        import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

        // --- قم بتحديث هذا الجزء بـ firebaseConfig الصحيح لمشروعك ---
        const firebaseConfig = {
            apiKey: "AIzaSyB6ACvhgth3VXhoJJnNOZfIQBpXlTVWcGE",
            authDomain: "website-f388d.firebaseapp.com",
            projectId: "website-f388d",
            storageBucket: "website-f388d.appspot.com",
            messagingSenderId: "531820596793",
            appId: "1:531820596793:web:37dbfd0b9a3c7a3a0cc7e8",
            measurementId: "G-75KT28HL7H"
        };
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        // --- نهاية الجزء الذي يجب تحديثه ---

        const collectionName = "matches"; // قم بتعديل هذا إذا كان اسم المجموعة مختلفًا

        async function checkConnection() {
            try {
                const matchesCollectionRef = collection(db, collectionName);
                const matchesSnapshot = await getDocs(matchesCollectionRef);

                if (matchesSnapshot.empty) {
                    console.log(`✅ تم الاتصال بـ Firebase بنجاح، لكن مجموعة "${collectionName}" فارغة.`);
                } else {
                    console.log(`✅ تم الاتصال بـ Firebase بنجاح! تم العثور على ${matchesSnapshot.size} مستند في مجموعة "${collectionName}".`);
                    // يمكنك فحص أول مستند لمعلومات إضافية
                    matchesSnapshot.docs.forEach((doc) => {
                         console.log(`- مستند: ${doc.id}`);
                    });
                }
            } catch (error) {
                console.error("❌ فشل الاتصال بـ Firebase. راجع الإعدادات:", error);
            }
        }

        checkConnection();
    </script>
</body>
</html>
